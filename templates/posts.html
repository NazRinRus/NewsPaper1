{% extends 'flatpages/default.html' %}

{% load custom_filters %}

{% block title %}
Posts
{% endblock title %}

{% block content %}
    <h1>Все посты ( {{ news|length }} )</h1>
    {% if posts %}
        <table>
            <tr>
                <td> Заголовок </td>
                <td> Дата публикации </td>
                <td> Содержание </td>
                <td> Вид поста </td>
            </tr>
            {% for post in posts %}
                <tr>
                    <td> {{ post.header|censor }} </td>
                    <td> {{ post.time_in|date:'d M Y' }} </td>
                    <td> {{ post.text_post|censor|truncatewords:20 }} </td>
                    <td> {{ post.position }} </td>
                </tr>
            {% endfor %}

        </table>
    {% else %}
        <h2> Постов нет! </h2>
    {% endif %}
{% endblock content %}